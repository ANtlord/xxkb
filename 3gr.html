<html>
<title>Три раскладки в xxkb</title>

<body bgcolor=#FFFFFF>

  <H2>Как с помошью xxkb работать более чем с двумя
раскладками клавиатуры</H2>

<P> Одной из проблем при руссификации "иксов" является то, что некоторые
приложения ("правильные") нормально вводят русские буквы, если в раскладке
клавиатуры они закодированы двубайтными кодами - Cyrillic_A, Cyrillic_BE
и т.д., а другие ("неправильные") понимают только однобайтные коды
(которые используются в xmodmap).

<P> Попытки заставить все приложения работать с одной и той же раскладкой,
не всегда приводят к успеху.

<P> При этом существует достаточно простое решение - держать в системе
две "русских" раскладки - для "правильных" и "неправильных" программ.
Неудобство в том, что вместе с латинской получается уже три раскладки и
переключаться между ними с помощью одной клавиши становится очень неудобно.

<P> При использовнии "штатного средства" -
<a href=http://www.tsu.ru/~pascal/other/xkb/>клавиатурного модуля XKB</a>,
можно с помощью файлов конфигурации этого XKB загрузить сразу три раскладки
клавиатуры (вообще-то их может быть до 4-х). Но тогда клавиша-переключатель
будет иметь не два состояния (лат/рус), а циклически перебирать все три
раскладки.

<P> В этом случае вам может облегчить жизнь программка xxkb.
<ul>
 <li> Предположим, что у вас уже есть подходящий файл конфигурации XKB
с тремя раскладками клавиатуры. Если его нет, то можно взять
<a href=http://www.tsu.ru/~pascal/other/xkb/ru-koi-3gr>здесь</a> и
положить в <B>X11R6/lib/X11/xkb/symbols</B> (вам придется или переименовать
его в <b>ru</b>, или подправить соответствующие файлы конфигурации XKB).
 <li> Если вы используете вышеуказанный файл, то "правильная" раскладка
(которая и должна использоваться "по умолчанию") в нем имеет номер группы 3,
а "неправильная" - 2.
 <li> Исправьте в файле настроек xxkb строчку
<br> <b> XXkb.group.alt: 3 </b>
<br> и, если вы хотите, назначение "флажков-иконок"
<br> <b> XXkb.mainwindow.xpm.2: su48.xpm</b>
<br> <b> XXkb.mainwindow.xpm.3: ru48.xpm</b>
<br> <b> XXkb.button.xpm.2: su48.xpm</b>
<br> <b> XXkb.button.xpm.3: ru48.xpm</b>
 <li> Теперь, если у вас запущен xxkb, то каждом стартующем приложении
"по умолчанию" будут переключаться две группы - "лат"/"правильный_рус".
А для тех приложений, которым нужна "старая" раскладка можно правой кнопкой
мыши выбрать "старую" русскую раскладку (она будет отображаться "советским"
флажком). И в дальнейшем, в этом приложении тот же переключатель клавиатуры
будут переключаться между "лат" и "старый_рус".
</ul>

</body>
</html>
